# Generated by Django 2.1.15 on 2020-05-29 09:56

import contracts.models
import django.contrib.postgres.fields.jsonb
from django.db import migrations, models
import l_core.mixins
import uuid


class Migration(migrations.Migration):

    initial = True

    dependencies = [
    ]

    operations = [
        migrations.CreateModel(
            name='AccrualProducts',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('unique_uuid', models.UUIDField(default=uuid.uuid4)),
                ('date_add', models.DateTimeField(auto_now_add=True, null=True)),
                ('date_edit', models.DateTimeField(auto_now=True, null=True)),
                ('is_deleted', models.BooleanField(default=False, editable=False)),
                ('count', models.IntegerField(default=1)),
                ('price', models.FloatField(default=0)),
                ('total_price', models.FloatField(default=0)),
                ('pdv', models.FloatField(default=0)),
                ('total_price_pdv', models.FloatField(default=0)),
            ],
            options={
                'verbose_name': 'Послуги(товари) по договору',
                'verbose_name_plural': 'Послуги(товари) по договору',
            },
            bases=(contracts.models.ProductMixin, l_core.mixins.CheckProtected, l_core.mixins.RelatedObjects, models.Model),
        ),
        migrations.CreateModel(
            name='AccrualSubscription',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('unique_uuid', models.UUIDField(default=uuid.uuid4)),
                ('date_add', models.DateTimeField(auto_now_add=True, null=True)),
                ('date_edit', models.DateTimeField(auto_now=True, null=True)),
                ('is_deleted', models.BooleanField(default=False, editable=False)),
                ('charging_day', models.IntegerField()),
                ('start_period', models.DateField()),
                ('end_period', models.DateField()),
                ('count', models.IntegerField(default=1)),
                ('price', models.FloatField(default=0)),
                ('total_price', models.FloatField(default=0)),
                ('pdv', models.FloatField(default=0)),
                ('total_price_pdv', models.FloatField(default=0)),
            ],
            options={
                'verbose_name': 'Послуги(товари) по договору',
                'verbose_name_plural': 'Послуги(товари) по договору',
            },
            bases=(contracts.models.ProductMixin, l_core.mixins.CheckProtected, l_core.mixins.RelatedObjects, models.Model),
        ),
        migrations.CreateModel(
            name='Contract',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('unique_uuid', models.UUIDField(default=uuid.uuid4)),
                ('date_add', models.DateTimeField(auto_now_add=True, null=True)),
                ('date_edit', models.DateTimeField(auto_now=True, null=True)),
                ('is_deleted', models.BooleanField(default=False, editable=False)),
                ('number_contract', models.TextField(max_length=50, null=True, verbose_name='№ Договору')),
                ('start_date', models.DateField(verbose_name='Дата заключення договору')),
                ('start_of_contract', models.DateField(verbose_name='Дата початку дії договору')),
                ('start_payment', models.DateField(blank=True, null=True, verbose_name='Дата початку оплати')),
                ('start_accrual', models.DateField(blank=True, null=True, verbose_name='Дата початку нарахувань')),
                ('subject_contract', models.TextField(max_length=500, null=True, verbose_name='Предмет договору')),
                ('price_contract', models.FloatField(default=0, verbose_name='Ціна договору')),
                ('price_contract_by_month', models.FloatField(default=0, verbose_name='Ціна договору за місяць')),
                ('contract_time', models.IntegerField(blank=True, null=True, verbose_name='Строк дії договору')),
                ('one_time_service', models.BooleanField(default=False, verbose_name='Одноразова послуга/купівля')),
                ('expiration_date', models.DateField(verbose_name='Дата закінчення')),
                ('copy_contract', models.FileField(null=True, upload_to='uploads/copy_contract/%Y/%m/%d/', verbose_name='Копія договору')),
                ('contract_docx', models.FileField(null=True, upload_to='uploads/contract_docx/%Y/%m/%d/', verbose_name='Проект договору')),
                ('status', models.CharField(choices=[['future', 'Укладається'], ['actual', 'Дійсний'], ['archive', 'Архівний'], ['rejected', 'Не заключений']], default='future', max_length=20, verbose_name='Статус')),
                ('automatic_number_gen', models.BooleanField(default=False, verbose_name='Сформувати номер автоматично?')),
            ],
            options={
                'verbose_name': 'Договір',
                'verbose_name_plural': 'Договори',
            },
            bases=(l_core.mixins.CheckProtected, l_core.mixins.RelatedObjects, models.Model),
        ),
        migrations.CreateModel(
            name='ContractFinance',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('unique_uuid', models.UUIDField(default=uuid.uuid4)),
                ('date_add', models.DateTimeField(auto_now_add=True, null=True)),
                ('date_edit', models.DateTimeField(auto_now=True, null=True)),
                ('is_deleted', models.BooleanField(default=False, editable=False)),
                ('last_date_accrual', models.DateField(null=True, verbose_name='Дата останніх нарахувань')),
                ('total_size_accrual', models.FloatField(default=0, verbose_name='Розмір нарахувань (Загальний)')),
                ('last_date_pay', models.DateField(null=True, verbose_name='Дата останніх нарахувань')),
                ('total_size_pay', models.FloatField(default=0, verbose_name='Розмір нарахувань (Загальний)')),
                ('total_balance', models.FloatField(default=0, verbose_name='Баланс')),
            ],
            options={
                'verbose_name': 'Баланс по договору',
                'verbose_name_plural': 'Баланс по договорах',
            },
            bases=(l_core.mixins.CheckProtected, l_core.mixins.RelatedObjects, models.Model),
        ),
        migrations.CreateModel(
            name='ContractProducts',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('unique_uuid', models.UUIDField(default=uuid.uuid4)),
                ('date_add', models.DateTimeField(auto_now_add=True, null=True)),
                ('date_edit', models.DateTimeField(auto_now=True, null=True)),
                ('is_deleted', models.BooleanField(default=False, editable=False)),
                ('count', models.IntegerField(default=1)),
                ('price', models.FloatField(default=0)),
                ('total_price', models.FloatField(default=0)),
                ('pdv', models.FloatField(default=0)),
                ('total_price_pdv', models.FloatField(default=0)),
            ],
            options={
                'verbose_name': 'Послуги(товари) по договору',
                'verbose_name_plural': 'Послуги(товари) по договору',
            },
            bases=(contracts.models.ProductMixin, l_core.mixins.CheckProtected, l_core.mixins.RelatedObjects, models.Model),
        ),
        migrations.CreateModel(
            name='ContractSubscription',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('unique_uuid', models.UUIDField(default=uuid.uuid4)),
                ('date_add', models.DateTimeField(auto_now_add=True, null=True)),
                ('date_edit', models.DateTimeField(auto_now=True, null=True)),
                ('is_deleted', models.BooleanField(default=False, editable=False)),
                ('charging_day', models.IntegerField()),
                ('start_period', models.DateField()),
                ('end_period', models.DateField()),
                ('count', models.IntegerField(default=1)),
                ('price', models.FloatField(default=0)),
                ('total_price', models.FloatField(default=0)),
                ('pdv', models.FloatField(default=0)),
                ('total_price_pdv', models.FloatField(default=0)),
            ],
            options={
                'verbose_name': 'Послуги(товари) по договору',
                'verbose_name_plural': 'Послуги(товари) по договору',
            },
            bases=(contracts.models.ProductMixin, l_core.mixins.CheckProtected, l_core.mixins.RelatedObjects, models.Model),
        ),
        migrations.CreateModel(
            name='Coordination',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('unique_uuid', models.UUIDField(default=uuid.uuid4)),
                ('date_add', models.DateTimeField(auto_now_add=True, null=True)),
                ('date_edit', models.DateTimeField(auto_now=True, null=True)),
                ('is_deleted', models.BooleanField(default=False, editable=False)),
                ('subject', models.TextField(verbose_name='Особа')),
                ('status', models.BooleanField(default=False, verbose_name='Статус погодження (Так/Ні)')),
                ('start', models.DateField(verbose_name='Початок погодження')),
                ('end', models.DateField(verbose_name='Кінець погодження')),
                ('object_id', models.PositiveIntegerField()),
            ],
            options={
                'verbose_name': 'Погодження договору',
                'verbose_name_plural': 'Погодження договорів',
            },
            bases=(l_core.mixins.CheckProtected, l_core.mixins.RelatedObjects, models.Model),
        ),
        migrations.CreateModel(
            name='ImportPayment',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('unique_uuid', models.UUIDField(default=uuid.uuid4)),
                ('date_add', models.DateTimeField(auto_now_add=True, null=True)),
                ('date_edit', models.DateTimeField(auto_now=True, null=True)),
                ('is_deleted', models.BooleanField(default=False, editable=False)),
                ('in_file', models.FileField(upload_to='import_client_bunk/')),
                ('details', django.contrib.postgres.fields.jsonb.JSONField(editable=False, null=True)),
                ('is_imported', models.BooleanField(default=False, editable=False)),
            ],
            options={
                'abstract': False,
            },
            bases=(l_core.mixins.CheckProtected, l_core.mixins.RelatedObjects, models.Model),
        ),
        migrations.CreateModel(
            name='PayPlan',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('unique_uuid', models.UUIDField(default=uuid.uuid4)),
                ('date_add', models.DateTimeField(auto_now_add=True, null=True)),
                ('date_edit', models.DateTimeField(auto_now=True, null=True)),
                ('is_deleted', models.BooleanField(default=False, editable=False)),
                ('pay_order', models.PositiveIntegerField(verbose_name='Порядковий номер')),
                ('date_start_period', models.DateField(null=True, verbose_name='Початок періоду')),
                ('date_end_period', models.DateField(null=True, verbose_name='Кінець періоду')),
                ('date_accrual', models.DateField(verbose_name='Дата нарахувань')),
                ('date_pay', models.DateField(verbose_name='Дата кінцева дата оплати')),
                ('size_accrual', models.FloatField(verbose_name='Плановий платіж')),
            ],
            options={
                'verbose_name': 'План платежів',
                'verbose_name_plural': 'Плани платежів',
            },
            bases=(l_core.mixins.CheckProtected, l_core.mixins.RelatedObjects, models.Model),
        ),
        migrations.CreateModel(
            name='RegisterAccrual',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('unique_uuid', models.UUIDField(default=uuid.uuid4)),
                ('date_add', models.DateTimeField(auto_now_add=True, null=True)),
                ('date_edit', models.DateTimeField(auto_now=True, null=True)),
                ('is_deleted', models.BooleanField(default=False, editable=False)),
                ('title', models.CharField(max_length=150, null=True, verbose_name='Заголовок рахунку')),
                ('date_start_period', models.DateField(null=True, verbose_name='Початок періоду')),
                ('date_end_period', models.DateField(null=True, verbose_name='Кінець періоду')),
                ('date_accrual', models.DateField(null=True, verbose_name='Дата нарахувань')),
                ('mb_size', models.FloatField(null=True, verbose_name='Кількість мегабайт (фактично)')),
                ('mb_size_tariff', models.FloatField(null=True, verbose_name='Кількість мегабайт в тарифі')),
                ('mb_size_over_tariff', models.FloatField(null=True, verbose_name='Кількість мегабайт понад тариф')),
                ('size_accrual', models.FloatField(null=True, verbose_name='Розмір нарахувань')),
                ('pay_size', models.FloatField(null=True, verbose_name='Сума до сплати')),
                ('balance', models.FloatField(null=True, verbose_name='Баланс')),
                ('penalty', models.FloatField(null=True, verbose_name='Пеня за попередній період')),
                ('accrual_docx', models.FileField(null=True, upload_to='uploads/accrual_docx/%Y/%m/%d/', verbose_name='Проект Рахунку')),
                ('date_sending_doc', models.DateField(null=True, verbose_name='Дата відправлення акту')),
                ('is_doc_send_successful', models.NullBooleanField(verbose_name='Акт успішно відправлено?')),
            ],
            options={
                'verbose_name': 'Нарахування',
                'verbose_name_plural': 'Нарахування',
            },
            bases=(l_core.mixins.CheckProtected, l_core.mixins.RelatedObjects, models.Model),
        ),
        migrations.CreateModel(
            name='RegisterAct',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('unique_uuid', models.UUIDField(default=uuid.uuid4)),
                ('date_add', models.DateTimeField(auto_now_add=True, null=True)),
                ('date_edit', models.DateTimeField(auto_now=True, null=True)),
                ('is_deleted', models.BooleanField(default=False, editable=False)),
                ('number_act', models.TextField(verbose_name='Номер акту')),
                ('date_formation_act', models.DateField(verbose_name='Дата формування акту')),
                ('date_sending_act', models.DateField(null=True, verbose_name='Дата відправлення акту')),
                ('is_send_successful', models.NullBooleanField(verbose_name='Акт успішно відправлено?')),
                ('date_return_act', models.DateField(null=True, verbose_name='Дата повернення акту')),
                ('copy_act', models.FileField(null=True, upload_to='uploads/docx_act/%Y/%m/%d/', verbose_name='Копія акту(DOCX)')),
                ('copy_act_pdf', models.FileField(null=True, upload_to='uploads/pdf_act/%Y/%m/%d/', verbose_name='Копія акту(PDF)')),
            ],
            options={
                'verbose_name': 'Акт',
                'verbose_name_plural': 'Акти',
            },
            bases=(l_core.mixins.CheckProtected, l_core.mixins.RelatedObjects, models.Model),
        ),
        migrations.CreateModel(
            name='RegisterPayment',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('unique_uuid', models.UUIDField(default=uuid.uuid4)),
                ('date_add', models.DateTimeField(auto_now_add=True, null=True)),
                ('date_edit', models.DateTimeField(auto_now=True, null=True)),
                ('is_deleted', models.BooleanField(default=False, editable=False)),
                ('payment_date', models.DateField(null=True, verbose_name='Дата оплати')),
                ('outer_doc_number', models.CharField(max_length=100, null=True, verbose_name='Зовнішній номер документа платежу')),
                ('payment_type', models.CharField(choices=[['import', 'Клієнт-банк'], ['handly', 'Вручну']], default='handly', max_length=100)),
                ('sum_payment', models.IntegerField(null=True, verbose_name='Число')),
            ],
            options={
                'verbose_name': 'Платіж',
                'verbose_name_plural': 'Платежі',
            },
            bases=(l_core.mixins.CheckProtected, l_core.mixins.RelatedObjects, models.Model),
        ),
        migrations.CreateModel(
            name='RegisterTemplateDocument',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('unique_uuid', models.UUIDField(default=uuid.uuid4)),
                ('date_add', models.DateTimeField(auto_now_add=True, null=True)),
                ('date_edit', models.DateTimeField(auto_now=True, null=True)),
                ('is_deleted', models.BooleanField(default=False, editable=False)),
                ('name', models.TextField(verbose_name='Назва')),
                ('sending_template', models.TextField(null=True, verbose_name='Посилання на шаблон')),
            ],
            options={
                'verbose_name': 'Шаблон документа',
                'verbose_name_plural': 'Шаблон документів',
            },
            bases=(l_core.mixins.CheckProtected, l_core.mixins.RelatedObjects, models.Model),
        ),
        migrations.CreateModel(
            name='StageProperty',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('unique_uuid', models.UUIDField(default=uuid.uuid4)),
                ('date_add', models.DateTimeField(auto_now_add=True, null=True)),
                ('date_edit', models.DateTimeField(auto_now=True, null=True)),
                ('is_deleted', models.BooleanField(default=False, editable=False)),
                ('name', models.TextField(blank=True, default='', null=True, verbose_name='Назва організації')),
                ('address', models.TextField(blank=True, default='', null=True)),
                ('settlement_account', models.CharField(blank=True, max_length=30, null=True, verbose_name='Розрахунковий рахунок')),
                ('bank_name', models.CharField(max_length=200, null=True, verbose_name='Назва банку')),
                ('main_unit', models.CharField(blank=True, max_length=200, null=True, verbose_name='Уповноважена особа')),
                ('main_unit_state', models.CharField(blank=True, max_length=200, null=True, verbose_name='Посада уповноваженої особи')),
                ('mfo', models.CharField(blank=True, max_length=50, null=True, verbose_name='МФО')),
                ('ipn', models.CharField(blank=True, max_length=200, null=True, verbose_name='ІПН')),
                ('certificate_number', models.CharField(blank=True, max_length=200, null=True, verbose_name='Номер свідотства ПДВ')),
                ('edrpou', models.CharField(blank=True, max_length=10, null=True, verbose_name='ЄДРПОУ')),
                ('phone', models.CharField(blank=True, max_length=150, null=True, verbose_name='Телефон')),
                ('email', models.CharField(blank=True, max_length=150, null=True, verbose_name='email')),
                ('work_reason', models.TextField(null=True, verbose_name='Працює на підставі')),
                ('statute_copy', models.FileField(null=True, upload_to='', verbose_name='Статутні документи')),
            ],
            options={
                'verbose_name': 'Реквізити договору',
                'verbose_name_plural': 'Реквізити договорів',
            },
            bases=(l_core.mixins.CheckProtected, l_core.mixins.RelatedObjects, models.Model),
        ),
    ]
